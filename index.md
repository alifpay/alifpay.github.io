### Общие принципы протокола

Взаимодействие Системы и провайдера строится в режиме "запрос-ответ", где инициатором запроса всегда является Система, а отвечающей стороной – провайдер.

Каждый платеж в Системе имеет уникальный идентификатор, который передается в каждом запросе. По этому идентификатору производится дальнейшая сверка взаиморасчетов и решение спорных вопросов.

При обработке запроса от Системы провайдер должен выполнить требуемую операцию, а затем передать в ответе Системе данные (если это требуется) и результат выполнения операции.


## Требования к интерфейсу провайдера

1. Интерфейс должен принимать запросы по протоколу HTTPS 

2. Интерфейс должен обрабатывать параметры, передаваемые системой методам HTTP POST - в теле запроса в виде формате JSON в кодировке UTF-8.

3. Интерфейс должен формировать ответ системе в формате JSON в кодировке UTF-8.

4. Скорость ответа не должна превышать 60 секунд, в противном случае система разрывает соединение по таймауту. 

5. Если предполагаемое количество платежей за услуги подключаемого провайдера, ожидается интенсивным (до 10 платежей в минуту и более), необходимо, чтобы интерфейс поддерживал многопоточную коммуникацию



## Запрос check

При получении запроса check провайдер должен проверить наличие в своей базе абонента с указанным идентификатором и выполнить внутренние проверки идентификатора в соответствии с принятой логикой пополнения лицевых счетов через платежные Системы.



```markdown

## Пример запроса

POST 
Accept: application/json
Host: service.provider.com:443
Content-type: application/json; charset=utf-8

{
  "id": 12345132564875,
  "action": "check",  
  "account": "123000"
}



## Пример ответа

{
  "code": 302
  "id": 12345132564875,
}

```
